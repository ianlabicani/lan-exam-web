@let saving = savingSig();

<div class="max-w-2xl mx-auto p-6">
  <form
    [formGroup]="examForm"
    (ngSubmit)="create()"
    class="space-y-6 bg-white border border-gray-200 rounded-lg shadow-sm p-6"
  >
    <h2 class="text-xl font-semibold text-gray-800">Create Exam</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
      <div class="space-y-1 md:col-span-2">
        <label class="block text-sm font-medium text-gray-600"
          >Title<span class="text-red-500">*</span></label
        >
        <input
          formControlName="title"
          class="w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>
      <div class="space-y-1 md:col-span-2">
        <label class="block text-sm font-medium text-gray-600"
          >Description</label
        >
        <textarea
          formControlName="description"
          rows="3"
          class="w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
        ></textarea>
      </div>
      <div class="space-y-1">
        <label class="block text-sm font-medium text-gray-600">Starts At</label>
        <input
          type="datetime-local"
          formControlName="startsAt"
          class="w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>
      <div class="space-y-1">
        <label class="block text-sm font-medium text-gray-600">Ends At</label>
        <input
          type="datetime-local"
          formControlName="endsAt"
          class="w-full rounded border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>
      <div class="space-y-1">
        <label class="block text-sm font-medium text-gray-600">Year</label>
        <select
          formControlName="year"
          class="w-full rounded border border-gray-300 px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option [value]="1">1</option>
          <option [value]="2">2</option>
          <option [value]="3">3</option>
          <option [value]="4">4</option>
        </select>
      </div>
      <div class="space-y-1">
        <label class="block text-sm font-medium text-gray-600">Section</label>
        <select
          formControlName="section"
          class="w-full rounded border border-gray-300 px-3 py-2 text-sm bg-white focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
          <option value="a">A</option>
          <option value="b">B</option>
          <option value="c">C</option>
          <option value="d">D</option>
          <option value="e">E</option>
          <option value="f">F</option>
          <option value="g">G</option>
        </select>
      </div>
    </div>
    <div class="pt-2 flex items-center gap-3">
      <button
        type="submit"
        [disabled]="saving"
        class="inline-flex items-center gap-2 px-5 py-2 rounded-md bg-blue-600 text-white text-sm font-medium shadow-sm hover:bg-blue-700 disabled:opacity-50"
      >
        @if (!saving) {
        <fa-icon [icon]="faPlus"></fa-icon>
        Create Exam } @else {
        <fa-icon
          [icon]="faSpinner"
          class="fa-spin text-gray-300"
          title="Creating..."
        ></fa-icon>
        <span class="text-gray-300"> Creating </span>
        }
      </button>

      @if (errorMsg) {
      <div class="text-sm text-red-600">{{ errorMsg }}</div>
      }
    </div>
  </form>
</div>
